<!DOCTYPE html>
<html>
	<head>
		{{page "head"}}
		<script>
			$(document).ready( function () { 
				{{range script "init-script"}}
					{{.}}
				{{end}}
				{{range script "init-main-script"}}
					{{.}}
				{{end}}
			} );
			{{range script "main-script"}}
				{{.}}
			{{end}}
			child = {{session "data" "numChildren"}};
			parent = {{session "data" "numParents"}};
		</script>
	</head>
	<body>
		<div style="position: fixed; top: 5%; height: 30%; width: 100%; z-index: 2;">
			<div>
				{{page "banner"}}
				<div class="panel">
					<div class="row"> 
						<div class="col-xs-2">
							{{with $test := service "account" "isLoggedIn"}}
								{{if eq "True" $test}}
									Hello, {{service "account" "session" "name"}}
								{{end}}
							{{end}}
						</div>
						<div class="col-xs-10">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="wallpaper">
			<svg id="mySVG" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%">
				<script>
					var popSound = new Audio('/audio/bubblepop.mp3');
					function pop(cir) {
						cir.parentNode.removeChild(cir);
						popSound.play();
					}
				</script>
			</svg>
		</div>
		<div id="nav-menu">
			<svg id="menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%">
				{{range htmls "circleMenuItem" "MODAL>>loginModal,aboutModal,applyModal,infoModal" "TX>>50,130,210,290,370,450" "FILL>>93e,3e9,9e3,e93,39e,e39" "LABEL>>Enter,About,Apply,Info,Sponcer,Lounge" "CX>>90,170,250,330,410,490"}}
					{{.}}
				{{end}}
			</svg>
		</div>
		<div id="images">
			<svg width="100%" height="100%">
				{{range htmls "pictures" "ID>>family1,family2,family3,family4,family5" "XX>>-100,-250,-190,-250,-190" "YY>>-160,0,0,0,0" "HEIGHT>>800,400,400,400,400" "WIDTH>>534,700,700,700,700" "CX>>10,18,30,46,66" "CY>>26,48,72,82,90" "R>>200,200,200,200,200" "FADE>>1,1,1,1,1" "DUR>>16,16,16,16,16"}}
					{{.}}
				{{end}}
				{{range htmls "pictures" "ID>>family6,family7,family8,family9,family10" "XX>>-100,-250,-190,-250,-190" "YY>>-160,0,0,0,0" "HEIGHT>>800,400,400,400,400" "WIDTH>>534,700,700,700,700" "CX>>10,18,30,46,66" "CY>>26,48,72,82,90" "R>>200,200,200,200,200" "FADE>>0;1;1,0;1;1,0;1;1,0;1;1,0;1;1" "DUR>>15,14,13,12,11"}}
					{{.}}
				{{end}}
				{{range htmls "pictures" "ID>>family11,family12,family13,family14,family15" "XX>>-100,-250,-190,-250,-190" "YY>>-160,0,0,0,0" "HEIGHT>>800,400,400,400,400" "WIDTH>>534,700,700,700,700" "CX>>10,18,30,46,66" "CY>>26,48,72,82,90" "R>>200,200,200,200,200" "FADE>>0;0;1,0;0;1,0;0;1,0;0;1,0;0;1" "DUR>>15,14,13,12,11"}}
					{{.}}
				{{end}}
			</svg>
		</div>
		<div id="loginModal" class="modalDialog">
			<div style="text-align: center; width: 600px;">
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				
				<h2>Enter {{.Site.Name}}!</h2>
				
				<div class="container">
					<form action="/main" method="post">
						<span>
							User Name: <input type="text" class= "ptButton ptInput" name="UserName"><br><br>
							Password: <input type="password" class= "ptButton ptInput" name="Password"><br><br><br>
						</span>
						<input type="submit" class="ptButton" value="Login">
						<a href="#applyModal" class="ptButton">Register</a>
						<a href="#clearModal" class="ptButton">Cancel</a>
						<a href="#passwordModal" class= "ptButton">Forgot Password?</a>
						<input type="hidden" name="postProcessingHandler" value="login">
						<input type="hidden" name="redirect" value="home#welcomeModal">
					</form>
				</div>
			</div>
		</div>
		<div id="aboutModal" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>About li'lPlayDates!</h2>
				<p>This is what we do</p>
			</div>
		</div>
		<div id="applyModal" class="modalDialog">
			<div style="text-align: center; width: 600px;">
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Join us at {{.Site.Name}}!</h2>
				<div class="container">
					<form id="family" action="/main" method="post">
						UserName: <input type="text" class= "ptButton" name="userName" placeholder="family user name"><br>
						Email: <input type="text" class= "ptButton" name="email" placeholder="please enter a valid email" value="{{ session "param" "email" }}"><br>
						Zip Code: <input type="text" class= "ptButton" name="zip" placeholder="00000" value="{{ session "param" "zip" }}"><br>
						<ul>
							{{range session "item" "familyData"}}
								{{ if .Parent }}
									<li class="ptListItem">{{.Name}}, {{.Sex}}</li>
								{{ else }}
									<li class="ptListItem">{{.Name}}, {{.MOB}}, {{.Sex}}</li>
								{{end}}
							{{end}}
						</ul><br>
						<input type="submit" class="ptButton" id="submitFamily" value="Apply" style="display: none;">
						<a href="#clearModal" class= "ptButton">Cancel</a>
						<input type="hidden" name="postProcessingHandler" value="apply">
						<input type="hidden" name="redirect" value="main#checkEmail">
						<input type="button" class="ptButton" onclick="showHide('newKid')" value="Add Child"/>
						<input type="button" class="ptButton" onclick="showHide('newParent')" value="Add Parent"/>
							{{range $index, $elem := session "item" "parentData"}}
								<input type="hidden" name="parent{{$index}}" value="{{.Name}}|{{.Sex}}">
							{{end}}
							{{range $index, $elem := session "item" "childData"}}
								<input type="hidden" name="child{{$index}}" value="{{.Name}}|{{ .MOB }}|{{.Sex}}">
							{{end}}
					</form>
					<div id="newKid" class="container" style="display: none;">
						<h4>Add a Child</h4>
						<form id="kid">
							Name: <input type="text" class= "ptButton" id="newKid" name="name" placeholder="full name">
							Boy: <input type="radio" class= "ptButton" id="boy" name="gender" value="Boy"/>
							Girl: <input type="radio" class= "ptButton" id="girl" name="gender" value="Girl"/><br>
							Birth Month: <input id="dob" class="datepicker" data-date-format="mm/dd/yyyy"></br>
							<input type="button" class="ptButton" onclick="addKid()" value="Add"/>
						</form>
					</div>
					<div id="newParent" class="container" style="display: none;">
						<h3>Add Parent to Family</h3>
						<form id="parent">
							Name: <input type="text" class= "ptButton" id="newParent" name="name" placeholder="full name">
							Mom: <input type="radio" class= "ptButton" id="mom" name="gender" value="Mom"/>
							Dad: <input type="radio" class= "ptButton" id="dad" name="gender" value="Dad"/><br><br>
							<input type="button" class="ptButton" onclick="addParent()" value="Add"/>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div id="infoModal" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>What is li'lPlayDates! all about</h2>
				<h3>The story</h3>
				<p>One day, I was pondering how shy my little boy is and how will I get him to open up to other children.  We didn't know very many families with small kids and thought about how easy it was to meet people on the internet.  I asked my wife about what she thought of a 'dating' site for babies.</p>
				<p>At first she scoffed, but in a moment the whole idea came to her as id did for me.  Of course if would be a tool for parents to set up playdates for their kids.  We could match up kids too young to make their own friends with similar developmental abilities and interest.</p>
				<a href="#sponcerModal" title="sponcers" class="ptButton">Sponcers</a>
			</div>
		</div>
		<div id="sponcerModal" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Welcome sponcers</h2>
				<p>We would like to offer advertising services and to tell you how this forum is a great value.  Our pricing
				structure is on a per view basis and can be targetted to specific demographics and regions as specific as individual
				zip codes. 
				</p>
				<p>Create a sponcer account and allow us to show you how this could be the most affective way to reach
				the kind of people who will want your business.</p>
			</div>
		</div>
		<div id="adminModal" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Administer li'lPlayDates!</h2>
				<p>Tell us about yourself</p>
				<p>Who do you know?</p>
			</div>
		</div>
		<div id="loungeModal" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Welcoome to li'lPlayDates lounge!</h2>
				<p>Tell us about yourself</p>
				<p>Who do you know?</p>
			</div>
		</div>
		<div id="failedLogin" class="modalDialog">
			<div>
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Sorry, that login was not recognized.</h2>
				<p>Please try again.</p>
			</div>
		</div>
		<div id="checkEmail" class="modalDialog">
			<div style="text-align: center;">
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>Your application was successful</h2>
				<p>Check you email for a secure link to set up you account.</p>
			</div>
		</div>
		<div id="errorModal" class="modalDialog">
			<div style="text-align: center;">
				<a href="#closeModal" title="Close" class="closeModal">X</a>
				<h2>There was a problem</h2>
				<p>{{session "param" "error"}}</p></br>
				<a href='{{session "param" "retry"}}' title="Back" class="ptButton">Try again</a>
			</div>
		</div>
	</body>
</html>